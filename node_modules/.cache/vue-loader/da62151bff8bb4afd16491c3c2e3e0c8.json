{"remainingRequest":"/Users/Jonathan/Desktop/Java/module-3/17_Web_Services_POST/lecture-final/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Jonathan/Desktop/Java/module-3/17_Web_Services_POST/lecture-final/src/components/CardDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Jonathan/Desktop/Java/module-3/17_Web_Services_POST/lecture-final/src/components/CardDetail.vue","mtime":1617676642000},{"path":"/Users/Jonathan/Desktop/Java/module-3/17_Web_Services_POST/lecture-final/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Jonathan/Desktop/Java/module-3/17_Web_Services_POST/lecture-final/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Jonathan/Desktop/Java/module-3/17_Web_Services_POST/lecture-final/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Jonathan/Desktop/Java/module-3/17_Web_Services_POST/lecture-final/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBib2FyZHNTZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL0JvYXJkU2VydmljZSI7CmltcG9ydCBDb21tZW50c0xpc3QgZnJvbSAiQC9jb21wb25lbnRzL0NvbW1lbnRzTGlzdCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImNhcmQtZGV0YWlsIiwKICBjb21wb25lbnRzOiB7CiAgICBDb21tZW50c0xpc3QKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0xvYWRpbmc6IHRydWUsCiAgICAgIGVycm9yTXNnOiAiIiwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICByZXRyaWV2ZUNhcmQoKSB7CiAgICAgIGJvYXJkc1NlcnZpY2UKICAgICAgICAuZ2V0Q2FyZCh0aGlzLiRyb3V0ZS5wYXJhbXMuY2FyZElEKQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiU0VUX0NVUlJFTlRfQ0FSRCIsIHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHsKICAgICAgICAgICAgYWxlcnQoCiAgICAgICAgICAgICAgIkNhcmQgbm90IGF2YWlsYWJsZS4gVGhpcyBjYXJkIG1heSBoYXZlIGJlZW4gZGVsZXRlZCBvciB5b3UgaGF2ZSBlbnRlcmVkIGFuIGludmFsaWQgY2FyZCBJRC4iCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvIik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlQ2FyZCgpIHsKICAgICAgaWYgKAogICAgICAgIGNvbmZpcm0oCiAgICAgICAgICAiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIGNhcmQ/IFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUuIgogICAgICAgICkKICAgICAgKSB7CiAgICAgICAgYm9hcmRzU2VydmljZQogICAgICAgICAgLmRlbGV0ZUNhcmQodGhpcy5jYXJkLmlkKQogICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICBhbGVydCgiQ2FyZCBzdWNjZXNzZnVsbHkgZGVsZXRlZCIpOwogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvYm9hcmQvJHt0aGlzLmNhcmQuYm9hcmRJZH1gKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgIHRoaXMuZXJyb3JNc2cgPQogICAgICAgICAgICAgICAgIkVycm9yIGRlbGV0aW5nIGNhcmQuIFJlc3BvbnNlIHJlY2VpdmVkIHdhcyAnIiArCiAgICAgICAgICAgICAgICBlcnJvci5yZXNwb25zZS5zdGF0dXNUZXh0ICsKICAgICAgICAgICAgICAgICInLiI7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IucmVxdWVzdCkgewogICAgICAgICAgICAgIHRoaXMuZXJyb3JNc2cgPQogICAgICAgICAgICAgICAgIkVycm9yIGRlbGV0aW5nIGNhcmQuIFNlcnZlciBjb3VsZCBub3QgYmUgcmVhY2hlZC4iOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuZXJyb3JNc2cgPQogICAgICAgICAgICAgICAgIkVycm9yIGRlbGV0aW5nIGNhcmQuIFJlcXVlc3QgY291bGQgbm90IGJlIGNyZWF0ZWQuIjsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5yZXRyaWV2ZUNhcmQoKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjYXJkKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuY2FyZDsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["CardDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CardDetail.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div class=\"loading\" v-if=\"isLoading\">\n      <img src=\"../assets/ping_pong_loader.gif\" />\n    </div>\n    <div v-else>\n      <h1>{{ card.title }}</h1>\n      <p>{{ card.description }}</p>\n      <router-link\n        tag=\"button\"\n        :to=\"{ name: 'EditCard', params: {cardID: $route.params.cardID} }\"\n        class=\"btn editCard\"\n      >Edit Card</router-link>\n      <button class=\"btn deleteCard\" v-on:click=\"deleteCard\">Delete Card</button>\n      <div class=\"status-message error\" v-show=\"errorMsg !== ''\">{{errorMsg}}</div>\n      <comments-list :comments=\"card.comments\" />\n    </div>\n\n    <div class=\"board-actions\" v-if=\"!isLoading\">\n      <router-link :to=\"{ name: 'Board', params: { id: $route.params.boardID } }\">Back to Board</router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport boardsService from \"../services/BoardService\";\nimport CommentsList from \"@/components/CommentsList\";\n\nexport default {\n  name: \"card-detail\",\n  components: {\n    CommentsList\n  },\n  data() {\n    return {\n      isLoading: true,\n      errorMsg: \"\",\n    };\n  },\n  methods: {\n    retrieveCard() {\n      boardsService\n        .getCard(this.$route.params.cardID)\n        .then(response => {\n          this.$store.commit(\"SET_CURRENT_CARD\", response.data);\n          this.isLoading = false;\n        })\n        .catch(error => {\n          if (error.response && error.response.status === 404) {\n            alert(\n              \"Card not available. This card may have been deleted or you have entered an invalid card ID.\"\n            );\n            this.$router.push(\"/\");\n          }\n        });\n    },\n    deleteCard() {\n      if (\n        confirm(\n          \"Are you sure you want to delete this card? This action cannot be undone.\"\n        )\n      ) {\n        boardsService\n          .deleteCard(this.card.id)\n          .then(response => {\n            if (response.status === 200) {\n              alert(\"Card successfully deleted\");\n              this.$router.push(`/board/${this.card.boardId}`);\n            }\n          })\n          .catch(error => {\n            if (error.response) {\n              this.errorMsg =\n                \"Error deleting card. Response received was '\" +\n                error.response.statusText +\n                \"'.\";\n            } else if (error.request) {\n              this.errorMsg =\n                \"Error deleting card. Server could not be reached.\";\n            } else {\n              this.errorMsg =\n                \"Error deleting card. Request could not be created.\";\n            }\n          });\n      }\n    },\n  },\n  created() {\n    this.retrieveCard();\n  },\n  computed: {\n    card() {\n      return this.$store.state.card;\n    }\n  }\n};\n</script>\n\n<style>\n.btn.editCard {\n  color: #fff;\n  background-color: #508ca8;\n  border-color: #508ca8;\n  margin-bottom: 10px;\n}\n.btn.deleteCard {\n  color: #fff;\n  background-color: #ef031a;\n  border-color: #ef031a;\n  margin-bottom: 10px;\n}\n</style>\n"]}]}