{"remainingRequest":"/Users/Jonathan/Documents/GitHub/kanban/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Jonathan/Documents/GitHub/kanban/src/components/CardForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Jonathan/Documents/GitHub/kanban/src/components/CardForm.vue","mtime":1617676642000},{"path":"/Users/Jonathan/Documents/GitHub/kanban/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Jonathan/Documents/GitHub/kanban/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Jonathan/Documents/GitHub/kanban/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Jonathan/Documents/GitHub/kanban/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBib2FyZHNTZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL0JvYXJkU2VydmljZSI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiY2FyZC1mb3JtIiwKICBwcm9wczogewogICAgY2FyZElEOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMAogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNhcmQ6IHsKICAgICAgICB0aXRsZTogIiIsCiAgICAgICAgZGVzY3JpcHRpb246ICIiLAogICAgICAgIHN0YXR1czogIlBsYW5uZWQiLAogICAgICAgIHRhZzogIiIsCiAgICAgICAgYXZhdGFyOiAiIiwKICAgICAgICBkYXRlOiBudWxsCiAgICAgIH0sCiAgICAgIGVycm9yTXNnOiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdEZvcm0oKSB7CiAgICAgIGNvbnN0IG5ld0NhcmQgPSB7CiAgICAgICAgYm9hcmRJZDogTnVtYmVyKHRoaXMuJHJvdXRlLnBhcmFtcy5ib2FyZElEKSwKICAgICAgICB0aXRsZTogdGhpcy5jYXJkLnRpdGxlLAogICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmNhcmQuZGVzY3JpcHRpb24sCiAgICAgICAgc3RhdHVzOiB0aGlzLmNhcmQuc3RhdHVzLAogICAgICAgIHRhZzogdGhpcy5jYXJkLnRhZywKICAgICAgICBhdmF0YXI6ICJodHRwczovL3JhbmRvbXVzZXIubWUvYXBpL3BvcnRyYWl0cy9sZWdvLzEuanBnIiwKICAgICAgICBkYXRlOiBtb21lbnQoKS5mb3JtYXQoIk1NTSBEbyBZWVlZIikKICAgICAgfTsKCiAgICAgIGlmICh0aGlzLmNhcmRJRCA9PT0gMCkgewogICAgICAgIC8vIGFkZAogICAgICAgIGJvYXJkc1NlcnZpY2UKICAgICAgICAgIC5hZGRDYXJkKG5ld0NhcmQpCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMSkgewogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvYm9hcmQvJHtuZXdDYXJkLmJvYXJkSWR9YCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yUmVzcG9uc2UoZXJyb3IsICJhZGRpbmciKTsKICAgICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIHVwZGF0ZQogICAgICAgIG5ld0NhcmQuaWQgPSB0aGlzLmNhcmRJRDsKICAgICAgICBuZXdDYXJkLmF2YXRhciA9IHRoaXMuY2FyZC5hdmF0YXI7CiAgICAgICAgbmV3Q2FyZC5kYXRlID0gdGhpcy5jYXJkLmRhdGU7CiAgICAgICAgYm9hcmRzU2VydmljZQogICAgICAgICAgLnVwZGF0ZUNhcmQobmV3Q2FyZCkKICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goYC9ib2FyZC8ke25ld0NhcmQuYm9hcmRJZH1gKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3JSZXNwb25zZShlcnJvciwgInVwZGF0aW5nIik7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNhbmNlbEZvcm0oKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvYm9hcmQvJHt0aGlzLiRyb3V0ZS5wYXJhbXMuYm9hcmRJRH1gKTsKICAgIH0sCiAgICBoYW5kbGVFcnJvclJlc3BvbnNlKGVycm9yLCB2ZXJiKSB7CiAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgIHRoaXMuZXJyb3JNc2cgPQogICAgICAgICAgIkVycm9yICIgKyB2ZXJiICsgIiBjYXJkLiBSZXNwb25zZSByZWNlaXZlZCB3YXMgJyIgKwogICAgICAgICAgZXJyb3IucmVzcG9uc2Uuc3RhdHVzVGV4dCArCiAgICAgICAgICAiJy4iOwogICAgICB9IGVsc2UgaWYgKGVycm9yLnJlcXVlc3QpIHsKICAgICAgICB0aGlzLmVycm9yTXNnID0KICAgICAgICAgICJFcnJvciAiICsgdmVyYiArICIgY2FyZC4gU2VydmVyIGNvdWxkIG5vdCBiZSByZWFjaGVkLiI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lcnJvck1zZyA9CiAgICAgICAgICAiRXJyb3IgIiArIHZlcmIgKyAiIGNhcmQuIFJlcXVlc3QgY291bGQgbm90IGJlIGNyZWF0ZWQuIjsKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLmNhcmRJRCAhPSAwKSB7CiAgICAgIGJvYXJkc1NlcnZpY2UKICAgICAgICAuZ2V0Q2FyZCh0aGlzLmNhcmRJRCkKICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLmNhcmQgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSAmJiBlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDQwNCkgewogICAgICAgICAgICBhbGVydCgKICAgICAgICAgICAgICAiQ2FyZCBub3QgYXZhaWxhYmxlLiBUaGlzIGNhcmQgbWF5IGhhdmUgYmVlbiBkZWxldGVkIG9yIHlvdSBoYXZlIGVudGVyZWQgYW4gaW52YWxpZCBjYXJkIElELiIKICAgICAgICAgICAgKTsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["CardForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CardForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <form v-on:submit.prevent=\"submitForm\" class=\"cardForm\">\n    <div class=\"status-message error\" v-show=\"errorMsg !== ''\">{{errorMsg}}</div>\n    <div class=\"form-group\">\n      <label for=\"title\">Title:</label>\n      <input id=\"title\" type=\"text\" class=\"form-control\" v-model=\"card.title\" autocomplete=\"off\" />\n    </div>\n    <div class=\"form-group\">\n      <label for=\"tag\">Tag:</label>\n      <select id=\"tag\" class=\"form-control\" v-model=\"card.tag\">\n        <option value=\"Feature Request\">Feature Request</option>\n        <option value=\"Design\">Design</option>\n        <option value=\"Q&A\">Q&A</option>\n      </select>\n      <label for=\"status\">Status:</label>\n      <select id=\"tag\" class=\"form-control\" v-model=\"card.status\">\n        <option value=\"Planned\">Planned</option>\n        <option value=\"In Progress\">In Progress</option>\n        <option value=\"Completed\">Completed</option>\n      </select>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"description\">Description:</label>\n      <textarea id=\"description\" class=\"form-control\" v-model=\"card.description\"></textarea>\n    </div>\n    <button class=\"btn btn-submit\">Submit</button>\n    <button class=\"btn btn-cancel\" v-on:click.prevent=\"cancelForm\" type=\"cancel\">Cancel</button>\n  </form>\n</template>\n\n<script>\nimport boardsService from \"../services/BoardService\";\nimport moment from \"moment\";\n\nexport default {\n  name: \"card-form\",\n  props: {\n    cardID: {\n      type: Number,\n      default: 0\n    }\n  },\n  data() {\n    return {\n      card: {\n        title: \"\",\n        description: \"\",\n        status: \"Planned\",\n        tag: \"\",\n        avatar: \"\",\n        date: null\n      },\n      errorMsg: \"\"\n    };\n  },\n  methods: {\n    submitForm() {\n      const newCard = {\n        boardId: Number(this.$route.params.boardID),\n        title: this.card.title,\n        description: this.card.description,\n        status: this.card.status,\n        tag: this.card.tag,\n        avatar: \"https://randomuser.me/api/portraits/lego/1.jpg\",\n        date: moment().format(\"MMM Do YYYY\")\n      };\n\n      if (this.cardID === 0) {\n        // add\n        boardsService\n          .addCard(newCard)\n          .then(response => {\n            if (response.status === 201) {\n              this.$router.push(`/board/${newCard.boardId}`);\n            }\n          })\n          .catch(error => {\n            this.handleErrorResponse(error, \"adding\");\n          });\n      } else {\n        // update\n        newCard.id = this.cardID;\n        newCard.avatar = this.card.avatar;\n        newCard.date = this.card.date;\n        boardsService\n          .updateCard(newCard)\n          .then(response => {\n            if (response.status === 200) {\n              this.$router.push(`/board/${newCard.boardId}`);\n            }\n          })\n          .catch(error => {\n            this.handleErrorResponse(error, \"updating\");\n          });\n      }\n    },\n    cancelForm() {\n      this.$router.push(`/board/${this.$route.params.boardID}`);\n    },\n    handleErrorResponse(error, verb) {\n      if (error.response) {\n        this.errorMsg =\n          \"Error \" + verb + \" card. Response received was '\" +\n          error.response.statusText +\n          \"'.\";\n      } else if (error.request) {\n        this.errorMsg =\n          \"Error \" + verb + \" card. Server could not be reached.\";\n      } else {\n        this.errorMsg =\n          \"Error \" + verb + \" card. Request could not be created.\";\n      }\n    }\n  },\n  created() {\n    if (this.cardID != 0) {\n      boardsService\n        .getCard(this.cardID)\n        .then(response => {\n          this.card = response.data;\n        })\n        .catch(error => {\n          if (error.response && error.response.status === 404) {\n            alert(\n              \"Card not available. This card may have been deleted or you have entered an invalid card ID.\"\n            );\n            this.$router.push(\"/\");\n          }\n        });\n    }\n  }\n};\n</script>\n\n\n<style>\n.cardForm {\n  padding: 10px;\n  margin-bottom: 10px;\n}\n.form-group {\n  margin-bottom: 10px;\n  margin-top: 10px;\n}\nlabel {\n  display: inline-block;\n  margin-bottom: 0.5rem;\n}\n.form-control {\n  display: block;\n  width: 80%;\n  height: 30px;\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n}\ntextarea.form-control {\n  height: 75px;\n  font-family: Arial, Helvetica, sans-serif;\n}\nselect.form-control {\n  width: 20%;\n  display: inline-block;\n  margin: 10px 20px 10px 10px;\n}\n.btn-submit {\n  color: #fff;\n  background-color: #0062cc;\n  border-color: #005cbf;\n}\n.btn-cancel {\n  color: #fff;\n  background-color: #dc3545;\n  border-color: #dc3545;\n}\n.status-message {\n  display: block;\n  border-radius: 5px;\n  font-weight: bold;\n  font-size: 1rem;\n  text-align: center;\n  padding: 10px;\n  margin-bottom: 10px;\n}\n.status-message.success {\n  background-color: #90ee90;\n}\n.status-message.error {\n  background-color: #f08080;\n}\n</style>\n"]}]}