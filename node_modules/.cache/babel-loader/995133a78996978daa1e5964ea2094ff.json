{"remainingRequest":"/Users/Jonathan/Documents/GitHub/kanban/node_modules/babel-loader/lib/index.js!/Users/Jonathan/Documents/GitHub/kanban/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Jonathan/Documents/GitHub/kanban/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Jonathan/Documents/GitHub/kanban/src/components/CardForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Jonathan/Documents/GitHub/kanban/src/components/CardForm.vue","mtime":1617676642000},{"path":"/Users/Jonathan/Documents/GitHub/kanban/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Jonathan/Documents/GitHub/kanban/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Jonathan/Documents/GitHub/kanban/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Jonathan/Documents/GitHub/kanban/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGJvYXJkc1NlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvQm9hcmRTZXJ2aWNlIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImNhcmQtZm9ybSIsCiAgcHJvcHM6IHsKICAgIGNhcmRJRDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgICJkZWZhdWx0IjogMAogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNhcmQ6IHsKICAgICAgICB0aXRsZTogIiIsCiAgICAgICAgZGVzY3JpcHRpb246ICIiLAogICAgICAgIHN0YXR1czogIlBsYW5uZWQiLAogICAgICAgIHRhZzogIiIsCiAgICAgICAgYXZhdGFyOiAiIiwKICAgICAgICBkYXRlOiBudWxsCiAgICAgIH0sCiAgICAgIGVycm9yTXNnOiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgbmV3Q2FyZCA9IHsKICAgICAgICBib2FyZElkOiBOdW1iZXIodGhpcy4kcm91dGUucGFyYW1zLmJvYXJkSUQpLAogICAgICAgIHRpdGxlOiB0aGlzLmNhcmQudGl0bGUsCiAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuY2FyZC5kZXNjcmlwdGlvbiwKICAgICAgICBzdGF0dXM6IHRoaXMuY2FyZC5zdGF0dXMsCiAgICAgICAgdGFnOiB0aGlzLmNhcmQudGFnLAogICAgICAgIGF2YXRhcjogImh0dHBzOi8vcmFuZG9tdXNlci5tZS9hcGkvcG9ydHJhaXRzL2xlZ28vMS5qcGciLAogICAgICAgIGRhdGU6IG1vbWVudCgpLmZvcm1hdCgiTU1NIERvIFlZWVkiKQogICAgICB9OwoKICAgICAgaWYgKHRoaXMuY2FyZElEID09PSAwKSB7CiAgICAgICAgLy8gYWRkCiAgICAgICAgYm9hcmRzU2VydmljZS5hZGRDYXJkKG5ld0NhcmQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDEpIHsKICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCIvYm9hcmQvIi5jb25jYXQobmV3Q2FyZC5ib2FyZElkKSk7CiAgICAgICAgICB9CiAgICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBfdGhpcy5oYW5kbGVFcnJvclJlc3BvbnNlKGVycm9yLCAiYWRkaW5nIik7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gdXBkYXRlCiAgICAgICAgbmV3Q2FyZC5pZCA9IHRoaXMuY2FyZElEOwogICAgICAgIG5ld0NhcmQuYXZhdGFyID0gdGhpcy5jYXJkLmF2YXRhcjsKICAgICAgICBuZXdDYXJkLmRhdGUgPSB0aGlzLmNhcmQuZGF0ZTsKICAgICAgICBib2FyZHNTZXJ2aWNlLnVwZGF0ZUNhcmQobmV3Q2FyZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi9ib2FyZC8iLmNvbmNhdChuZXdDYXJkLmJvYXJkSWQpKTsKICAgICAgICAgIH0KICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIF90aGlzLmhhbmRsZUVycm9yUmVzcG9uc2UoZXJyb3IsICJ1cGRhdGluZyIpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgY2FuY2VsRm9ybTogZnVuY3Rpb24gY2FuY2VsRm9ybSgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9ib2FyZC8iLmNvbmNhdCh0aGlzLiRyb3V0ZS5wYXJhbXMuYm9hcmRJRCkpOwogICAgfSwKICAgIGhhbmRsZUVycm9yUmVzcG9uc2U6IGZ1bmN0aW9uIGhhbmRsZUVycm9yUmVzcG9uc2UoZXJyb3IsIHZlcmIpIHsKICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgdGhpcy5lcnJvck1zZyA9ICJFcnJvciAiICsgdmVyYiArICIgY2FyZC4gUmVzcG9uc2UgcmVjZWl2ZWQgd2FzICciICsgZXJyb3IucmVzcG9uc2Uuc3RhdHVzVGV4dCArICInLiI7CiAgICAgIH0gZWxzZSBpZiAoZXJyb3IucmVxdWVzdCkgewogICAgICAgIHRoaXMuZXJyb3JNc2cgPSAiRXJyb3IgIiArIHZlcmIgKyAiIGNhcmQuIFNlcnZlciBjb3VsZCBub3QgYmUgcmVhY2hlZC4iOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZXJyb3JNc2cgPSAiRXJyb3IgIiArIHZlcmIgKyAiIGNhcmQuIFJlcXVlc3QgY291bGQgbm90IGJlIGNyZWF0ZWQuIjsKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIGlmICh0aGlzLmNhcmRJRCAhPSAwKSB7CiAgICAgIGJvYXJkc1NlcnZpY2UuZ2V0Q2FyZCh0aGlzLmNhcmRJRCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIuY2FyZCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGlmIChlcnJvci5yZXNwb25zZSAmJiBlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDQwNCkgewogICAgICAgICAgYWxlcnQoIkNhcmQgbm90IGF2YWlsYWJsZS4gVGhpcyBjYXJkIG1heSBoYXZlIGJlZW4gZGVsZXRlZCBvciB5b3UgaGF2ZSBlbnRlcmVkIGFuIGludmFsaWQgY2FyZCBJRC4iKTsKCiAgICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKCIvIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["CardForm.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <form v-on:submit.prevent=\"submitForm\" class=\"cardForm\">\n    <div class=\"status-message error\" v-show=\"errorMsg !== ''\">{{errorMsg}}</div>\n    <div class=\"form-group\">\n      <label for=\"title\">Title:</label>\n      <input id=\"title\" type=\"text\" class=\"form-control\" v-model=\"card.title\" autocomplete=\"off\" />\n    </div>\n    <div class=\"form-group\">\n      <label for=\"tag\">Tag:</label>\n      <select id=\"tag\" class=\"form-control\" v-model=\"card.tag\">\n        <option value=\"Feature Request\">Feature Request</option>\n        <option value=\"Design\">Design</option>\n        <option value=\"Q&A\">Q&A</option>\n      </select>\n      <label for=\"status\">Status:</label>\n      <select id=\"tag\" class=\"form-control\" v-model=\"card.status\">\n        <option value=\"Planned\">Planned</option>\n        <option value=\"In Progress\">In Progress</option>\n        <option value=\"Completed\">Completed</option>\n      </select>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"description\">Description:</label>\n      <textarea id=\"description\" class=\"form-control\" v-model=\"card.description\"></textarea>\n    </div>\n    <button class=\"btn btn-submit\">Submit</button>\n    <button class=\"btn btn-cancel\" v-on:click.prevent=\"cancelForm\" type=\"cancel\">Cancel</button>\n  </form>\n</template>\n\n<script>\nimport boardsService from \"../services/BoardService\";\nimport moment from \"moment\";\n\nexport default {\n  name: \"card-form\",\n  props: {\n    cardID: {\n      type: Number,\n      default: 0\n    }\n  },\n  data() {\n    return {\n      card: {\n        title: \"\",\n        description: \"\",\n        status: \"Planned\",\n        tag: \"\",\n        avatar: \"\",\n        date: null\n      },\n      errorMsg: \"\"\n    };\n  },\n  methods: {\n    submitForm() {\n      const newCard = {\n        boardId: Number(this.$route.params.boardID),\n        title: this.card.title,\n        description: this.card.description,\n        status: this.card.status,\n        tag: this.card.tag,\n        avatar: \"https://randomuser.me/api/portraits/lego/1.jpg\",\n        date: moment().format(\"MMM Do YYYY\")\n      };\n\n      if (this.cardID === 0) {\n        // add\n        boardsService\n          .addCard(newCard)\n          .then(response => {\n            if (response.status === 201) {\n              this.$router.push(`/board/${newCard.boardId}`);\n            }\n          })\n          .catch(error => {\n            this.handleErrorResponse(error, \"adding\");\n          });\n      } else {\n        // update\n        newCard.id = this.cardID;\n        newCard.avatar = this.card.avatar;\n        newCard.date = this.card.date;\n        boardsService\n          .updateCard(newCard)\n          .then(response => {\n            if (response.status === 200) {\n              this.$router.push(`/board/${newCard.boardId}`);\n            }\n          })\n          .catch(error => {\n            this.handleErrorResponse(error, \"updating\");\n          });\n      }\n    },\n    cancelForm() {\n      this.$router.push(`/board/${this.$route.params.boardID}`);\n    },\n    handleErrorResponse(error, verb) {\n      if (error.response) {\n        this.errorMsg =\n          \"Error \" + verb + \" card. Response received was '\" +\n          error.response.statusText +\n          \"'.\";\n      } else if (error.request) {\n        this.errorMsg =\n          \"Error \" + verb + \" card. Server could not be reached.\";\n      } else {\n        this.errorMsg =\n          \"Error \" + verb + \" card. Request could not be created.\";\n      }\n    }\n  },\n  created() {\n    if (this.cardID != 0) {\n      boardsService\n        .getCard(this.cardID)\n        .then(response => {\n          this.card = response.data;\n        })\n        .catch(error => {\n          if (error.response && error.response.status === 404) {\n            alert(\n              \"Card not available. This card may have been deleted or you have entered an invalid card ID.\"\n            );\n            this.$router.push(\"/\");\n          }\n        });\n    }\n  }\n};\n</script>\n\n\n<style>\n.cardForm {\n  padding: 10px;\n  margin-bottom: 10px;\n}\n.form-group {\n  margin-bottom: 10px;\n  margin-top: 10px;\n}\nlabel {\n  display: inline-block;\n  margin-bottom: 0.5rem;\n}\n.form-control {\n  display: block;\n  width: 80%;\n  height: 30px;\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n}\ntextarea.form-control {\n  height: 75px;\n  font-family: Arial, Helvetica, sans-serif;\n}\nselect.form-control {\n  width: 20%;\n  display: inline-block;\n  margin: 10px 20px 10px 10px;\n}\n.btn-submit {\n  color: #fff;\n  background-color: #0062cc;\n  border-color: #005cbf;\n}\n.btn-cancel {\n  color: #fff;\n  background-color: #dc3545;\n  border-color: #dc3545;\n}\n.status-message {\n  display: block;\n  border-radius: 5px;\n  font-weight: bold;\n  font-size: 1rem;\n  text-align: center;\n  padding: 10px;\n  margin-bottom: 10px;\n}\n.status-message.success {\n  background-color: #90ee90;\n}\n.status-message.error {\n  background-color: #f08080;\n}\n</style>\n"],"sourceRoot":"src/components"}]}