{"remainingRequest":"/Users/Jonathan/Desktop/Java/module-3/17_Web_Services_POST/lecture-final/node_modules/babel-loader/lib/index.js!/Users/Jonathan/Desktop/Java/module-3/17_Web_Services_POST/lecture-final/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Jonathan/Desktop/Java/module-3/17_Web_Services_POST/lecture-final/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Jonathan/Desktop/Java/module-3/17_Web_Services_POST/lecture-final/src/components/CardDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Jonathan/Desktop/Java/module-3/17_Web_Services_POST/lecture-final/src/components/CardDetail.vue","mtime":1617676642000},{"path":"/Users/Jonathan/Desktop/Java/module-3/17_Web_Services_POST/lecture-final/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Jonathan/Desktop/Java/module-3/17_Web_Services_POST/lecture-final/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Jonathan/Desktop/Java/module-3/17_Web_Services_POST/lecture-final/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Jonathan/Desktop/Java/module-3/17_Web_Services_POST/lecture-final/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGJvYXJkc1NlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvQm9hcmRTZXJ2aWNlIjsKaW1wb3J0IENvbW1lbnRzTGlzdCBmcm9tICJAL2NvbXBvbmVudHMvQ29tbWVudHNMaXN0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjYXJkLWRldGFpbCIsCiAgY29tcG9uZW50czogewogICAgQ29tbWVudHNMaXN0OiBDb21tZW50c0xpc3QKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0xvYWRpbmc6IHRydWUsCiAgICAgIGVycm9yTXNnOiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJldHJpZXZlQ2FyZDogZnVuY3Rpb24gcmV0cmlldmVDYXJkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgYm9hcmRzU2VydmljZS5nZXRDYXJkKHRoaXMuJHJvdXRlLnBhcmFtcy5jYXJkSUQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgiU0VUX0NVUlJFTlRfQ0FSRCIsIHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICBfdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7CiAgICAgICAgICBhbGVydCgiQ2FyZCBub3QgYXZhaWxhYmxlLiBUaGlzIGNhcmQgbWF5IGhhdmUgYmVlbiBkZWxldGVkIG9yIHlvdSBoYXZlIGVudGVyZWQgYW4gaW52YWxpZCBjYXJkIElELiIpOwoKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlQ2FyZDogZnVuY3Rpb24gZGVsZXRlQ2FyZCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAoY29uZmlybSgiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIGNhcmQ/IFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUuIikpIHsKICAgICAgICBib2FyZHNTZXJ2aWNlLmRlbGV0ZUNhcmQodGhpcy5jYXJkLmlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgIGFsZXJ0KCJDYXJkIHN1Y2Nlc3NmdWxseSBkZWxldGVkIik7CgogICAgICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKCIvYm9hcmQvIi5jb25jYXQoX3RoaXMyLmNhcmQuYm9hcmRJZCkpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgIF90aGlzMi5lcnJvck1zZyA9ICJFcnJvciBkZWxldGluZyBjYXJkLiBSZXNwb25zZSByZWNlaXZlZCB3YXMgJyIgKyBlcnJvci5yZXNwb25zZS5zdGF0dXNUZXh0ICsgIicuIjsKICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IucmVxdWVzdCkgewogICAgICAgICAgICBfdGhpczIuZXJyb3JNc2cgPSAiRXJyb3IgZGVsZXRpbmcgY2FyZC4gU2VydmVyIGNvdWxkIG5vdCBiZSByZWFjaGVkLiI7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczIuZXJyb3JNc2cgPSAiRXJyb3IgZGVsZXRpbmcgY2FyZC4gUmVxdWVzdCBjb3VsZCBub3QgYmUgY3JlYXRlZC4iOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5yZXRyaWV2ZUNhcmQoKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjYXJkOiBmdW5jdGlvbiBjYXJkKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuY2FyZDsKICAgIH0KICB9Cn07"},{"version":3,"sources":["CardDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAyBA,OAAA,aAAA,MAAA,0BAAA;AACA,OAAA,YAAA,MAAA,2BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,YAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,IADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AACA,MAAA,aAAA,CACA,OADA,CACA,KAAA,MAAA,CAAA,MAAA,CAAA,MADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,kBAAA,EAAA,QAAA,CAAA,IAAA;;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,KAAA;AACA,OALA,EAMA,KANA,CAMA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,CAAA,QAAA,IAAA,KAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,UAAA,KAAA,CACA,6FADA,CAAA;;AAGA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;AACA,OAbA;AAcA,KAhBA;AAiBA,IAAA,UAjBA,wBAiBA;AAAA;;AACA,UACA,OAAA,CACA,0EADA,CADA,EAIA;AACA,QAAA,aAAA,CACA,UADA,CACA,KAAA,IAAA,CAAA,EADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,cAAA,QAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,YAAA,KAAA,CAAA,2BAAA,CAAA;;AACA,YAAA,MAAA,CAAA,OAAA,CAAA,IAAA,kBAAA,MAAA,CAAA,IAAA,CAAA,OAAA;AACA;AACA,SAPA,EAQA,KARA,CAQA,UAAA,KAAA,EAAA;AACA,cAAA,KAAA,CAAA,QAAA,EAAA;AACA,YAAA,MAAA,CAAA,QAAA,GACA,iDACA,KAAA,CAAA,QAAA,CAAA,UADA,GAEA,IAHA;AAIA,WALA,MAKA,IAAA,KAAA,CAAA,OAAA,EAAA;AACA,YAAA,MAAA,CAAA,QAAA,GACA,mDADA;AAEA,WAHA,MAGA;AACA,YAAA,MAAA,CAAA,QAAA,GACA,oDADA;AAEA;AACA,SArBA;AAsBA;AACA;AA9CA,GAXA;AA2DA,EAAA,OA3DA,qBA2DA;AACA,SAAA,YAAA;AACA,GA7DA;AA8DA,EAAA,QAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA;AACA;AAHA;AA9DA,CAAA","sourcesContent":["<template>\n  <div>\n    <div class=\"loading\" v-if=\"isLoading\">\n      <img src=\"../assets/ping_pong_loader.gif\" />\n    </div>\n    <div v-else>\n      <h1>{{ card.title }}</h1>\n      <p>{{ card.description }}</p>\n      <router-link\n        tag=\"button\"\n        :to=\"{ name: 'EditCard', params: {cardID: $route.params.cardID} }\"\n        class=\"btn editCard\"\n      >Edit Card</router-link>\n      <button class=\"btn deleteCard\" v-on:click=\"deleteCard\">Delete Card</button>\n      <div class=\"status-message error\" v-show=\"errorMsg !== ''\">{{errorMsg}}</div>\n      <comments-list :comments=\"card.comments\" />\n    </div>\n\n    <div class=\"board-actions\" v-if=\"!isLoading\">\n      <router-link :to=\"{ name: 'Board', params: { id: $route.params.boardID } }\">Back to Board</router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport boardsService from \"../services/BoardService\";\nimport CommentsList from \"@/components/CommentsList\";\n\nexport default {\n  name: \"card-detail\",\n  components: {\n    CommentsList\n  },\n  data() {\n    return {\n      isLoading: true,\n      errorMsg: \"\",\n    };\n  },\n  methods: {\n    retrieveCard() {\n      boardsService\n        .getCard(this.$route.params.cardID)\n        .then(response => {\n          this.$store.commit(\"SET_CURRENT_CARD\", response.data);\n          this.isLoading = false;\n        })\n        .catch(error => {\n          if (error.response && error.response.status === 404) {\n            alert(\n              \"Card not available. This card may have been deleted or you have entered an invalid card ID.\"\n            );\n            this.$router.push(\"/\");\n          }\n        });\n    },\n    deleteCard() {\n      if (\n        confirm(\n          \"Are you sure you want to delete this card? This action cannot be undone.\"\n        )\n      ) {\n        boardsService\n          .deleteCard(this.card.id)\n          .then(response => {\n            if (response.status === 200) {\n              alert(\"Card successfully deleted\");\n              this.$router.push(`/board/${this.card.boardId}`);\n            }\n          })\n          .catch(error => {\n            if (error.response) {\n              this.errorMsg =\n                \"Error deleting card. Response received was '\" +\n                error.response.statusText +\n                \"'.\";\n            } else if (error.request) {\n              this.errorMsg =\n                \"Error deleting card. Server could not be reached.\";\n            } else {\n              this.errorMsg =\n                \"Error deleting card. Request could not be created.\";\n            }\n          });\n      }\n    },\n  },\n  created() {\n    this.retrieveCard();\n  },\n  computed: {\n    card() {\n      return this.$store.state.card;\n    }\n  }\n};\n</script>\n\n<style>\n.btn.editCard {\n  color: #fff;\n  background-color: #508ca8;\n  border-color: #508ca8;\n  margin-bottom: 10px;\n}\n.btn.deleteCard {\n  color: #fff;\n  background-color: #ef031a;\n  border-color: #ef031a;\n  margin-bottom: 10px;\n}\n</style>\n"],"sourceRoot":"src/components"}]}