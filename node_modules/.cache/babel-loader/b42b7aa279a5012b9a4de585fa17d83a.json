{"remainingRequest":"/Users/Jonathan/Desktop/Java/module-3/17_Web_Services_POST/lecture-final/node_modules/babel-loader/lib/index.js!/Users/Jonathan/Desktop/Java/module-3/17_Web_Services_POST/lecture-final/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Jonathan/Desktop/Java/module-3/17_Web_Services_POST/lecture-final/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Jonathan/Desktop/Java/module-3/17_Web_Services_POST/lecture-final/src/components/CardForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Jonathan/Desktop/Java/module-3/17_Web_Services_POST/lecture-final/src/components/CardForm.vue","mtime":1617676642000},{"path":"/Users/Jonathan/Desktop/Java/module-3/17_Web_Services_POST/lecture-final/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Jonathan/Desktop/Java/module-3/17_Web_Services_POST/lecture-final/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Jonathan/Desktop/Java/module-3/17_Web_Services_POST/lecture-final/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Jonathan/Desktop/Java/module-3/17_Web_Services_POST/lecture-final/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGJvYXJkc1NlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvQm9hcmRTZXJ2aWNlIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImNhcmQtZm9ybSIsCiAgcHJvcHM6IHsKICAgIGNhcmRJRDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjYXJkOiB7CiAgICAgICAgdGl0bGU6ICIiLAogICAgICAgIGRlc2NyaXB0aW9uOiAiIiwKICAgICAgICBzdGF0dXM6ICJQbGFubmVkIiwKICAgICAgICB0YWc6ICIiLAogICAgICAgIGF2YXRhcjogIiIsCiAgICAgICAgZGF0ZTogbnVsbAogICAgICB9LAogICAgICBlcnJvck1zZzogIiIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIG5ld0NhcmQgPSB7CiAgICAgICAgYm9hcmRJZDogTnVtYmVyKHRoaXMuJHJvdXRlLnBhcmFtcy5ib2FyZElEKSwKICAgICAgICB0aXRsZTogdGhpcy5jYXJkLnRpdGxlLAogICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmNhcmQuZGVzY3JpcHRpb24sCiAgICAgICAgc3RhdHVzOiB0aGlzLmNhcmQuc3RhdHVzLAogICAgICAgIHRhZzogdGhpcy5jYXJkLnRhZywKICAgICAgICBhdmF0YXI6ICJodHRwczovL3JhbmRvbXVzZXIubWUvYXBpL3BvcnRyYWl0cy9sZWdvLzEuanBnIiwKICAgICAgICBkYXRlOiBtb21lbnQoKS5mb3JtYXQoIk1NTSBEbyBZWVlZIikKICAgICAgfTsKCiAgICAgIGlmICh0aGlzLmNhcmRJRCA9PT0gMCkgewogICAgICAgIC8vIGFkZAogICAgICAgIGJvYXJkc1NlcnZpY2UuYWRkQ2FyZChuZXdDYXJkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAxKSB7CiAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiL2JvYXJkLyIuY29uY2F0KG5ld0NhcmQuYm9hcmRJZCkpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgX3RoaXMuaGFuZGxlRXJyb3JSZXNwb25zZShlcnJvciwgImFkZGluZyIpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIHVwZGF0ZQogICAgICAgIG5ld0NhcmQuaWQgPSB0aGlzLmNhcmRJRDsKICAgICAgICBuZXdDYXJkLmF2YXRhciA9IHRoaXMuY2FyZC5hdmF0YXI7CiAgICAgICAgbmV3Q2FyZC5kYXRlID0gdGhpcy5jYXJkLmRhdGU7CiAgICAgICAgYm9hcmRzU2VydmljZS51cGRhdGVDYXJkKG5ld0NhcmQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCIvYm9hcmQvIi5jb25jYXQobmV3Q2FyZC5ib2FyZElkKSk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBfdGhpcy5oYW5kbGVFcnJvclJlc3BvbnNlKGVycm9yLCAidXBkYXRpbmciKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNhbmNlbEZvcm06IGZ1bmN0aW9uIGNhbmNlbEZvcm0oKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvYm9hcmQvIi5jb25jYXQodGhpcy4kcm91dGUucGFyYW1zLmJvYXJkSUQpKTsKICAgIH0sCiAgICBoYW5kbGVFcnJvclJlc3BvbnNlOiBmdW5jdGlvbiBoYW5kbGVFcnJvclJlc3BvbnNlKGVycm9yLCB2ZXJiKSB7CiAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgIHRoaXMuZXJyb3JNc2cgPSAiRXJyb3IgIiArIHZlcmIgKyAiIGNhcmQuIFJlc3BvbnNlIHJlY2VpdmVkIHdhcyAnIiArIGVycm9yLnJlc3BvbnNlLnN0YXR1c1RleHQgKyAiJy4iOwogICAgICB9IGVsc2UgaWYgKGVycm9yLnJlcXVlc3QpIHsKICAgICAgICB0aGlzLmVycm9yTXNnID0gIkVycm9yICIgKyB2ZXJiICsgIiBjYXJkLiBTZXJ2ZXIgY291bGQgbm90IGJlIHJlYWNoZWQuIjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVycm9yTXNnID0gIkVycm9yICIgKyB2ZXJiICsgIiBjYXJkLiBSZXF1ZXN0IGNvdWxkIG5vdCBiZSBjcmVhdGVkLiI7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICBpZiAodGhpcy5jYXJkSUQgIT0gMCkgewogICAgICBib2FyZHNTZXJ2aWNlLmdldENhcmQodGhpcy5jYXJkSUQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLmNhcmQgPSByZXNwb25zZS5kYXRhOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHsKICAgICAgICAgIGFsZXJ0KCJDYXJkIG5vdCBhdmFpbGFibGUuIFRoaXMgY2FyZCBtYXkgaGF2ZSBiZWVuIGRlbGV0ZWQgb3IgeW91IGhhdmUgZW50ZXJlZCBhbiBpbnZhbGlkIGNhcmQgSUQuIik7CgogICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["CardForm.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <form v-on:submit.prevent=\"submitForm\" class=\"cardForm\">\n    <div class=\"status-message error\" v-show=\"errorMsg !== ''\">{{errorMsg}}</div>\n    <div class=\"form-group\">\n      <label for=\"title\">Title:</label>\n      <input id=\"title\" type=\"text\" class=\"form-control\" v-model=\"card.title\" autocomplete=\"off\" />\n    </div>\n    <div class=\"form-group\">\n      <label for=\"tag\">Tag:</label>\n      <select id=\"tag\" class=\"form-control\" v-model=\"card.tag\">\n        <option value=\"Feature Request\">Feature Request</option>\n        <option value=\"Design\">Design</option>\n        <option value=\"Q&A\">Q&A</option>\n      </select>\n      <label for=\"status\">Status:</label>\n      <select id=\"tag\" class=\"form-control\" v-model=\"card.status\">\n        <option value=\"Planned\">Planned</option>\n        <option value=\"In Progress\">In Progress</option>\n        <option value=\"Completed\">Completed</option>\n      </select>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"description\">Description:</label>\n      <textarea id=\"description\" class=\"form-control\" v-model=\"card.description\"></textarea>\n    </div>\n    <button class=\"btn btn-submit\">Submit</button>\n    <button class=\"btn btn-cancel\" v-on:click.prevent=\"cancelForm\" type=\"cancel\">Cancel</button>\n  </form>\n</template>\n\n<script>\nimport boardsService from \"../services/BoardService\";\nimport moment from \"moment\";\n\nexport default {\n  name: \"card-form\",\n  props: {\n    cardID: {\n      type: Number,\n      default: 0\n    }\n  },\n  data() {\n    return {\n      card: {\n        title: \"\",\n        description: \"\",\n        status: \"Planned\",\n        tag: \"\",\n        avatar: \"\",\n        date: null\n      },\n      errorMsg: \"\"\n    };\n  },\n  methods: {\n    submitForm() {\n      const newCard = {\n        boardId: Number(this.$route.params.boardID),\n        title: this.card.title,\n        description: this.card.description,\n        status: this.card.status,\n        tag: this.card.tag,\n        avatar: \"https://randomuser.me/api/portraits/lego/1.jpg\",\n        date: moment().format(\"MMM Do YYYY\")\n      };\n\n      if (this.cardID === 0) {\n        // add\n        boardsService\n          .addCard(newCard)\n          .then(response => {\n            if (response.status === 201) {\n              this.$router.push(`/board/${newCard.boardId}`);\n            }\n          })\n          .catch(error => {\n            this.handleErrorResponse(error, \"adding\");\n          });\n      } else {\n        // update\n        newCard.id = this.cardID;\n        newCard.avatar = this.card.avatar;\n        newCard.date = this.card.date;\n        boardsService\n          .updateCard(newCard)\n          .then(response => {\n            if (response.status === 200) {\n              this.$router.push(`/board/${newCard.boardId}`);\n            }\n          })\n          .catch(error => {\n            this.handleErrorResponse(error, \"updating\");\n          });\n      }\n    },\n    cancelForm() {\n      this.$router.push(`/board/${this.$route.params.boardID}`);\n    },\n    handleErrorResponse(error, verb) {\n      if (error.response) {\n        this.errorMsg =\n          \"Error \" + verb + \" card. Response received was '\" +\n          error.response.statusText +\n          \"'.\";\n      } else if (error.request) {\n        this.errorMsg =\n          \"Error \" + verb + \" card. Server could not be reached.\";\n      } else {\n        this.errorMsg =\n          \"Error \" + verb + \" card. Request could not be created.\";\n      }\n    }\n  },\n  created() {\n    if (this.cardID != 0) {\n      boardsService\n        .getCard(this.cardID)\n        .then(response => {\n          this.card = response.data;\n        })\n        .catch(error => {\n          if (error.response && error.response.status === 404) {\n            alert(\n              \"Card not available. This card may have been deleted or you have entered an invalid card ID.\"\n            );\n            this.$router.push(\"/\");\n          }\n        });\n    }\n  }\n};\n</script>\n\n\n<style>\n.cardForm {\n  padding: 10px;\n  margin-bottom: 10px;\n}\n.form-group {\n  margin-bottom: 10px;\n  margin-top: 10px;\n}\nlabel {\n  display: inline-block;\n  margin-bottom: 0.5rem;\n}\n.form-control {\n  display: block;\n  width: 80%;\n  height: 30px;\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n}\ntextarea.form-control {\n  height: 75px;\n  font-family: Arial, Helvetica, sans-serif;\n}\nselect.form-control {\n  width: 20%;\n  display: inline-block;\n  margin: 10px 20px 10px 10px;\n}\n.btn-submit {\n  color: #fff;\n  background-color: #0062cc;\n  border-color: #005cbf;\n}\n.btn-cancel {\n  color: #fff;\n  background-color: #dc3545;\n  border-color: #dc3545;\n}\n.status-message {\n  display: block;\n  border-radius: 5px;\n  font-weight: bold;\n  font-size: 1rem;\n  text-align: center;\n  padding: 10px;\n  margin-bottom: 10px;\n}\n.status-message.success {\n  background-color: #90ee90;\n}\n.status-message.error {\n  background-color: #f08080;\n}\n</style>\n"],"sourceRoot":"src/components"}]}